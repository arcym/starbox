var Box = require("<scripts>/classes/Box")

var Shapes = [
    // O
    [
        {x: 0, y: 0},
    ],
    // OX
    [
        {x: 0, y: 0},
        {x: +1, y: 0},
    ],
    // O
    // X
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
    ],
    // XOX
    [
        {x: -1, y: 0},
        {x: 0, y: 0},
        {x: +1, y: 0},
    ],
    // X
    // O
    // X
    [
        {x: 0, y: -1},
        {x: 0, y: 0},
        {x: 0, y: +1},
    ],
    // OX
    // XX
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: +1, y: 0},
        {x: +1, y: +1},
    ],
    // X
    // OX
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: +1, y: 0},
    ],
    //  X
    // XO
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: -1, y: 0},
    ],
    // OX
    // X
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: +1, y: 0},
    ],
    // XO
    //  X
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: -1, y: 0},
    ],
    // XOXX
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: +1, y: 0},
        {x: +2, y: 0},
    ],
    // X
    // O
    // X
    // X
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: 0, y: +1},
        {x: 0, y: +2},
    ],
    //  X
    // XOX
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: -1, y: 0},
        {x: +1, y: 0},
    ],
    // XOX
    //  X
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: -1, y: 0},
        {x: +1, y: 0},
    ],
    // X
    // OX
    // X
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: 0, y: +1},
        {x: +1, y: 0},
    ],
    //  X
    // XO
    //  X
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: 0, y: +1},
        {x: -1, y: 0},
    ],
    // X
    // OXX
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: +1, y: 0},
        {x: +2, y: 0},
    ],
    //   X
    // XXO
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: -1, y: 0},
        {x: -2, y: 0},
    ],
    // OXX
    // X
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: +1, y: 0},
        {x: +2, y: 0},
    ],
    // XXO
    //   X
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: -1, y: 0},
        {x: -2, y: 0},
    ],
    // X
    // X
    // OX
    [
        {x: 0, y: 0},
        {x: +1, y: 0},
        {x: 0, y: -1},
        {x: 0, y: -2},
    ],
    //  X
    //  X
    // XO
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: 0, y: -1},
        {x: 0, y: -2},
    ],
    // OX
    // X
    // X
    [
        {x: 0, y: 0},
        {x: +1, y: 0},
        {x: 0, y: +1},
        {x: 0, y: +2},
    ],
    // XO
    //  X
    //  X
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: 0, y: +1},
        {x: 0, y: +2},
    ],
    //  X
    //  X
    // XOX
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: +1, y: 0},
        {x: 0, y: -1},
        {x: 0, y: -2},
    ],
    // XOX
    //  X
    //  X
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: +1, y: 0},
        {x: 0, y: +1},
        {x: 0, y: +2},
    ],
    // X
    // OXX
    // X
    [
        {x: 0, y: 0},
        {x: +1, y: 0},
        {x: +2, y: 0},
        {x: 0, y: -1},
        {x: 0, y: +1},
    ],
    //   X
    // XXO
    //   X
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: -2, y: 0},
        {x: 0, y: -1},
        {x: 0, y: +1},
    ],
    //  X
    // XOX
    //  X
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: +1, y: 0},
        {x: 0, y: -1},
        {x: 0, y: +1},
    ],
    // X
    // XO
    //  XX
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: -1, y: -1},
        {x: 0, y: +1},
        {x: +1, y: +1},
    ],
    //   X
    //  OX
    // XX
    [
        {x: 0, y: 0},
        {x: +1, y: 0},
        {x: +1, y: -1},
        {x: 0, y: +1},
        {x: -1, y: +1},
    ],
    //  XX
    // XO
    // X
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: +1, y: -1},
        {x: -1, y: 0},
        {x: -1, y: +1},
    ],
    // XX
    //  OX
    //   X
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: -1, y: -1},
        {x: +1, y: 0},
        {x: +1, y: +1},
    ],
    // X
    // OX
    // XX
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: +1, y: 0},
        {x: 0, y: +1},
        {x: +1, y: +1},
    ],
    //  X
    // XO
    // XX
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: -1, y: 0},
        {x: 0, y: +1},
        {x: -1, y: +1},
    ],
    // XX
    // OX
    // X
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: +1, y: 0},
        {x: 0, y: -1},
        {x: +1, y: -1},
    ],
    // XX
    // XO
    //  X
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: -1, y: 0},
        {x: 0, y: -1},
        {x: -1, y: -1},
    ],
    // XOX
    // XX
    [
        {x: 0, y: 0},
        {x: +1, y: 0},
        {x: 0, y: +1},
        {x: -1, y: 0},
        {x: -1, y: +1},
    ],
    // XOX
    //  XX
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: 0, y: +1},
        {x: +1, y: 0},
        {x: +1, y: +1},
    ],
    // XX
    // XOX
    [
        {x: 0, y: 0},
        {x: +1, y: 0},
        {x: 0, y: -1},
        {x: -1, y: 0},
        {x: -1, y: -1},
    ],
    //  XX
    // XOX
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: 0, y: -1},
        {x: +1, y: 0},
        {x: +1, y: -1},
    ],
    // X
    // OXXX
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: +1, y: 0},
        {x: +2, y: 0},
        {x: +3, y: 0},
    ],
    //    X
    // XXXO
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: -1, y: 0},
        {x: -2, y: 0},
        {x: -3, y: 0},
    ],
    // OXXX
    // X
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: +1, y: 0},
        {x: +2, y: 0},
        {x: +3, y: 0},
    ],
    // XXXO
    //    X
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: -1, y: 0},
        {x: -2, y: 0},
        {x: -3, y: 0},
    ],
    // OX
    // X
    // X
    // X
    [
        {x: 0, y: 0},
        {x: +1, y: 0},
        {x: 0, y: +1},
        {x: 0, y: +2},
        {x: 0, y: +3},
    ],
    // XO
    //  X
    //  X
    //  X
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: 0, y: +1},
        {x: 0, y: +2},
        {x: 0, y: +3},
    ],
    // X
    // X
    // X
    // OX
    [
        {x: 0, y: 0},
        {x: +1, y: 0},
        {x: 0, y: -1},
        {x: 0, y: -2},
        {x: 0, y: -3},
    ],
    //  X
    //  X
    //  X
    // XO
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: 0, y: -1},
        {x: 0, y: -2},
        {x: 0, y: -3},
    ],
    // X
    // X
    // OXX
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: 0, y: -2},
        {x: +1, y: 0},
        {x: +2, y: 0},
    ],
    //   X
    //   X
    // XXO
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: 0, y: -2},
        {x: -1, y: 0},
        {x: -2, y: 0},
    ],
    // OXX
    // X
    // X
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: 0, y: +2},
        {x: +1, y: 0},
        {x: +2, y: 0},
    ],
    // XXO
    //   X
    //   X
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: 0, y: +2},
        {x: -1, y: 0},
        {x: -2, y: 0},
    ],
    // X X
    // XOX
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: +1, y: 0},
        {x: -1, y: -1},
        {x: +1, y: -1},
    ],
    // XOX
    // X X
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: +1, y: 0},
        {x: -1, y: +1},
        {x: +1, y: +1},
    ],
    // XX
    // O
    // XX
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: 0, y: +1},
        {x: +1, y: -1},
        {x: +1, y: +1},
    ],
    // XX
    //  O
    // XX
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: 0, y: +1},
        {x: -1, y: -1},
        {x: -1, y: +1},
    ],
    //  XX
    // XO
    //  X
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: 0, y: +1},
        {x: 0, y: -1},
        {x: +1, y: -1},
    ],
    // XX
    //  OX
    //  X
    [
        {x: 0, y: 0},
        {x: +1, y: 0},
        {x: 0, y: +1},
        {x: 0, y: -1},
        {x: -1, y: -1},
    ],
    //  X
    // XO
    //  XX
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: 0, y: -1},
        {x: 0, y: +1},
        {x: +1, y: +1},
    ],
    //  X
    //  OX
    // XX
    [
        {x: 0, y: 0},
        {x: +1, y: 0},
        {x: 0, y: -1},
        {x: 0, y: +1},
        {x: -1, y: +1},
    ],
    //  X
    // XOX
    // X
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: +1, y: 0},
        {x: -1, y: 0},
        {x: -1, y: +1},
    ],
    //  X
    // XOX
    //   X
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: -1, y: 0},
        {x: +1, y: 0},
        {x: +1, y: +1},
    ],
    // X 
    // XOX
    //  X
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: +1, y: 0},
        {x: -1, y: 0},
        {x: -1, y: -1},
    ],
    //   X
    // XOX
    //  X
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: -1, y: 0},
        {x: +1, y: 0},
        {x: +1, y: -1},
    ],
    //   X
    // XOX
    // X
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: -1, y: +1},
        {x: +1, y: 0},
        {x: +1, y: -1},
    ],
    // X
    // XOX
    //   X
    [
        {x: 0, y: 0},
        {x: +1, y: 0},
        {x: +1, y: +1},
        {x: -1, y: 0},
        {x: -1, y: -1},
    ],
    //  XX
    //  O
    // XX
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: +1, y: -1},
        {x: 0, y: +1},
        {x: -1, y: +1},
    ],
    // XX
    //  O
    //  XX
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: +1, y: +1},
        {x: 0, y: -1},
        {x: -1, y: -1},
    ],
    //  XX
    // XO
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: 0, y: -1},
        {x: +1, y: -1},
    ],
    // XX
    //  OX
    [
        {x: 0, y: 0},
        {x: +1, y: 0},
        {x: 0, y: -1},
        {x: -1, y: -1},
    ],
    //  X
    // XO
    // X
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: -1, y: 0},
        {x: -1, y: +1},
    ],
    // X
    // OX
    //  X
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: +1, y: 0},
        {x: +1, y: +1},
    ],
    //  X
    // XOXX
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: -1, y: 0},
        {x: +1, y: 0},
        {x: +2, y: 0},
    ],
    //   X
    // XXOX
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: +1, y: 0},
        {x: -1, y: 0},
        {x: -2, y: 0},
    ],
    // XOXX
    //  X
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: -1, y: 0},
        {x: +1, y: 0},
        {x: +2, y: 0},
    ],
    // XXOX
    //   X
    [
        {x: 0, y: 0},
        {x: 0, y: +1},
        {x: +1, y: 0},
        {x: -1, y: 0},
        {x: -2, y: 0},
    ],
    // X
    // OX
    // X
    // X
    [
        {x: 0, y: 0},
        {x: +1, y: 0},
        {x: 0, y: -1},
        {x: 0, y: +1},
        {x: 0, y: +2},
    ],
    //  X
    // XO
    //  X
    //  X
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: 0, y: -1},
        {x: 0, y: +1},
        {x: 0, y: +2},
    ],
    // X
    // X
    // OX
    // X
    [
        {x: 0, y: 0},
        {x: +1, y: 0},
        {x: 0, y: +1},
        {x: 0, y: -1},
        {x: 0, y: -2},
    ],
    //  X
    //  X
    // XO
    //  X
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: 0, y: +1},
        {x: 0, y: -1},
        {x: 0, y: -2},
    ],
    // XXOXX
    [
        {x: 0, y: 0},
        {x: -1, y: 0},
        {x: -2, y: 0},
        {x: +1, y: 0},
        {x: +2, y: 0},
    ],
    // X
    // X
    // O
    // X
    // X
    [
        {x: 0, y: 0},
        {x: 0, y: -1},
        {x: 0, y: -2},
        {x: 0, y: +1},
        {x: 0, y: +2},
    ]
]

var StarshipStore = Phlux.createStore({
    data: {
        me: {
            position: {
                x: 5,
                y: 5
            },
            boxes: [
                new Box({
                    shape: Shapes[Shapes.length-1],
                    position: {
                        x: 0,
                        y: 0
                    }
                })
            ]
        }
    },
    update: function(tick) {
        for(var key in this.data) {
            if(this.data[key].update) {
                this.data[key].update(tick)
            }
        }
    }
})

module.exports = StarshipStore
